# Сравнение аналогов

## Принцип отбора аналогов

В роли сравнительных аналогов были рассмотрены приложения и библиотеки для распознавания эмоционально-психологического состояния. Основным критерием при выборе аналогов служили автономность, а также их применимость в режиме online. Подбор аналогов осуществлялся с использованием ресурсов GitHub. Для поиска аналогов применялись следующие запросы: "emotion recognition from audio", "speech emotion recognition", "emotion detection from video", "stress detection from audio", "stress detection from video", "depression detection from audio", "depression detection from video". Из первичной выдачи исключались проекты без какого-либо описания и те, которые не были автономны, то есть не могли работать локально или в режиме online.

### Speech Emotion Recognition

Данное приложение представляет собой реализацию системы распознавания эмоций на основе аудиосообщений. Это отдельное приложение, которое обрабатывает аудиофайлы, извлекает из них признаки (например, MFCC - Mel Frequency Cepstral Coefficient [1]) и использует обученную модель для классификации эмоций. Работа осуществляется локально через интерфейс командной строки. Сервис использует нейронные сети и методы обработки сигналов для классификации эмоциональных состояний [2].

### VERA

VERA — это приложение для распознавания эмоций в аудифайлах, реализованный в формате REST API. Пользователи могут отправлять аудиофайлы через запросы, после чего сервис выполняет предобработку данных, включая нормализацию звука и извлечение признаков, таких как MFCC. На основе этих данных предобученная модель определяет эмоциональное состояние говорящего [3]. 

### Detection-of-Anxiety-and-Depression

Это приложение представляет собой веб-сервис для анализа аудиозаписей с целью выявления признаков тревожности и депрессии. Пользователи могут загружать аудиофайлы через интерфейс, после чего сервис выполняет обработку данных, включая извлечение акустических признаков (например, тембр, частота, скорость речи). Затем предобученная модель классифицирует эмоциональное состояние говорящего [4].

### Stress Detector

Это приложение предназначено для определения уровня стресса через анализ речи, предлагающая несколько способов использования. Проект может быть запущен как веб-сервис, где пользователи загружают аудиофайлы для анализа, или как приложение для локальной работы.

Сервис извлекает акустические признаки из аудиозаписей (например, высоту звука и темп речи) и использует метод анализа акустических характеристик речи с применением эмпирической модальной декомпозиции (EMD) и вычисления количества нулевых пересечений на основе извлеченных признаков [5]. 

### Fast Facial Emotion Monitoring (FFEM) Package

Fast Facial Emotion Monitoring (FFEM) — это библиотека для мониторинга и распознавания эмоций на основе анализа выражений лиц в режиме online. Проект предоставляет пакет для использования в Python, который позволяет анализировать видеопотоки или загруженные видеозаписи. Система использует методы компьютерного зрения для извлечения ключевых признаков, таких как движение лицевых мышц и выражения, и классифицирует эмоции, такие как радость, гнев, удивление и другие [6].

### Video-Audio-Face-Emotion-Recognition

Video-Audio-Face Emotion Recognition — это приложение для распознавания эмоций, которая использует данные из видео и аудио. Проект представляет собой локальное приложение, которое обрабатывает как видеозаписи, так и аудиофайлы для точного определения эмоционального состояния человека. Система извлекает признаки из видеопотоков для анализа выражений лиц, а также анализирует аудио для распознавания эмоций в голосе. Все данные комбинируются для повышения точности классификации эмоций, таких как радость, грусть, гнев, удивление и другие. Проект использует модели машинного обучения для выполнения этих задач [7].

### Non-Invasive-Stress-Detection-from-Video

Non-Invasive-Stress-Detection-from-Video — это веб-приложение для определения уровня стресса на основе анализа видео данных. Сервис использует мультимодальный подход для оценки признаков стресса по записям лиц и предупреждает пользователя, если он испытывает средний или высокий стресс. Для обнаружения стресса применяются методы машинного обучения, включая архитектуру сверточных нейронных сетей (CNN) и пространственно-временные сети. Проект предоставляет веб-интерфейс, через который пользователи могут загружать видео для анализа и получения результатов [8].

### ADOSAUR

ADOSAUR — это веб-приложение, предназначенный для автоматического распознавания признаков депрессии на основе анализа видео данных. Сервис использует методы компьютерного зрения и машинного обучения для обработки видеозаписей, выявляя эмоциональные и поведенческие признаки, связанные с депрессией. Система предоставляет веб-интерфейс, через который пользователи могут загружать видео для анализа и получения результатов, что может помочь в выявлении признаков депрессии [9].

## Критерии сравнения аналогов

### Алгоритм распознавания

Данный критерий описывает тип алгоритма, используемого для распознавания эмоционально-психологического состояния. Инструмент может использовать различные методы машинного обучения, такие как нейронные сети, или специализированные алгоритмы для обработки аудио или видео. Для задач распознавания эмоционально-психологического состояния по аудио и видео особенно эффективны нейронные сети, поскольку они способны автоматически извлекать сложные и скрытые признаки из данных. Среди них, сверточные нейронные сети (CNN) особенно хорошо подходят для обработки как видео (анализ мимики и движений), так и аудио в виде спектрограмм, благодаря их способности выделять пространственные и частотные паттерны. Также широко применяются рекуррентные нейронные сети (RNN) и их модификации, такие как LSTM, которые эффективно анализируют временные зависимости в аудиопотоках, подчеркивая эмоциональные изменения во времени.

### Распознаваемые состояния

Этот критерий описывает область применения инструмента, то есть, какие объекты, явления или состояния он способен идентифицировать. Это может быть распознавание эмоций, заболеваний, типов поведения, голосовых команд или других характеристик, в зависимости от специфики задачи. Критерий уточняет, что именно инструмент выделяет или классифицирует на основе входных данных.

### Выходные данные

Данный критерий определяет, какой результат предоставляет инструмент после обработки входных данных. Это может быть метка, определяющая распознанное состояние или класс (например, эмоция, диагноз), числовое значение, отражающее степень уверенности в классификации, или вероятностное распределение по классам.

### Релевантность и разнообразие данных в обучающих датасетах

Этот критерий оценивает количество записей в обучающих датасетах, а также характеристики участников, такие как пол, возраст и другие демографические или социальные параметры. Чем более разнообразными и сбалансированными являются данные по этим характеристикам, тем лучше инструмент может обобщать результаты и работать на различных группах пользователей.

  

## Таблица сравнения аналогов

|                                               |                                                                                                   |                                                                                                                                                                              |                |                                                                                                                                                                                                                                                                                                                                                                                |                                                                                                                                                                                                                                        |
| --------------------------------------------- | :-----------------------------------------------------------------------------------------------: | :--------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | :------------: | :----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: | :------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------: |
|                                               |                                      Алгоритм распознавания                                       |                                                                           Распознаваемые состояния                                                                           | Входные данные |                                                                                                                                                                                Выходные данные                                                                                                                                                                                 |                                                                                       Релевантность и разнообразие данных в обучающих датасетах                                                                                        |
| Speech Emotion Recognition                    |                                      машинное обучение, MLP                                       |               определенные эмоциональные состояния: нейтральное состояние, спокойствие, радость, грусть, злость, страх, отвращение, приятное удивление, скука                |     аудио      |                                                                                                                                                      общая оценка - вероятность наличия каждого эмоционального состояния                                                                                                                                                       |          записи как мужских, так и женских голосов, большой объем данных RAVDESS: 7356 записи, 12 мужчин и 12 женщин TESS: 2800 записей, 2 женщины (26 и 64 года) EMO-DB: 535 записей, 5 мужчин и 5 женщин Custom: 174 записи          |
| VERA                                          |                                      машинное обучение, CNN                                       |                       определенные эмоциональные состояния: злость, спокойствие, отвращение, страх, счастье, нейтральное состояние, грусть, удивление                        |     аудио      |                                                                                                                                                              общая оценка - распознанная эмоциональное состояние                                                                                                                                                               | RAVDESS: 1440 записей, 12 мужчин и 12 женщинCREMA-D: 7442 записей, 48 мужчин и 43 женщины, в возрасте от 24 до 70 лет, разных национальностей SAVEE: 4 мужчины, 480 записей, возраст 27-31TESS: 2800 записей, 2 женщины (26 и 64 года) |
| Detection-of-Anxiety-and-Depression           |                                      машинное обучение, CNN                                       | определенные эмоционально-психологические состояния: злость, спокойствие, тревожность, счастье, депрессия; данные состояния также  разделяются системой на женские и мужские |     аудио      |                                                                                                                                                       общая оценка - распознанное состояние с указанием пола говорящего                                                                                                                                                        |                                                                                                                   -                                                                                                                    |
| Stress Detector                               | анализ признаков с использованием эмпирической модальной декомпозиции (EMD) и нулевых пересечений |                                                                                    стресс                                                                                    |     аудио      |                                                                                                                                                                общая оценка - True или False (наличие стресса)                                                                                                                                                                 |                                                                                                                   -                                                                                                                    |
| Fast Facial Emotion Monitoring (FFEM) Package |                                      машинное обучение, CNN                                       |                              определенные эмоциональные состояния: злость, отвращение, страх, счастье, грусть, удивление, нейтральное состояние                              |     видео      |                                                                                                                                                        видео, с информацией о эмоциональные состояния за каждую секунду                                                                                                                                                        |                                                                                                                   -                                                                                                                    |
| Video-Audio-Face-Emotion-Recognition          |                                   машинное обучение, CNN, LSTM                                    |                              определенные эмоциональные состояния: нейтральное состояние, счастье, удивление, грусть, злость, отвращение, страх                              |  видео, аудио  |                                                                                                                                                      общая оценка - вероятность наличия каждого эмоционального состояния                                                                                                                                                       |  RAVDESS: 7356 записи, 12 мужчин и 12 женщинTESS: 2800 записей, 2 женщины (26 и 64 года)SAVEE: 4 мужчины, 480 записей, возраст 27-31CREMA-D: 7442 записей, 48 мужчин и 43 женщины, в возрасте от 24 до 70 лет, разных национальностей  |
| Non-Invasive-Stress-Detection-from-Video      |                          машинное обучение, CNN, Spatiotemporal Networks                          |                        стресс, определенные эмоциональные состояния: нейтральное состояние, презрение, отвращение, страх, счастье, грусть, удивление                         |     видео      | следующая информация на каждом временном интервале: оценка стресса (значение от 0 до 3, где 0 - отсутствие стресса, 3 - высокий уровень стресса), сердечный ритм (количество ударов в минуту), порядковый номер распознанного эмоционального состояния из списка, уровень стресса (значение от 0 до 1, где 0 - отсутствие стресса, 1 - высокий уровень стресса) рассчитанный на основании мимики |                                             распознавание эмоциональных состояний: мужчины и женщины, большой объем данных распознавание стресса: женщины и мужчины, большой объем данных                                              |
| ADOSAUR                                       |                                      машинное обучение, CNN                                       |                                                                                 тревожность                                                                                  |  видео, аудио  |                                                                                                                        уровень тревожности (значение от 0 до 3, где 0 - отсутствие тревожности, 3 - высокий уровень тревожности) на каждом временном интервале                                                                                                                         |                                                                                                                   -                                                                                                                    |
## Выводы по итогам сравнения

Анализируя результаты таблицы, можно сделать вывод о том, что среди рассмотренных инструментов для распознавания эмоционально-психологического состояния нет универсального решения, которое бы одновременно обладало следующими характеристиками:
- поддержка как аудио- так и видеоданных
- широкий охват состояний (эмоции, стресс, тревожность)
- использование разнообразных обучающих датасетов, сбалансированных по полу, возрасту и национальностям

Среди рассмотренных инструментов наиболее универсальным является Video-Audio-Face-Emotion-Recognition, так как он использует мультимодальный подход, объединяя анализ аудио и видео. Этот инструмент применяет модели CNN и LSTM, которые эффективно обрабатывают как пространственные, так и временные зависимости в данных, что делает их наиболее подходящими для задачи распознавания эмоций. Однако его эффективность напрямую зависит от качества и объема обучающих данных, что характерно для всех моделей машинного обучения.

## Выбор метода решения

Готовое решение должно представлять собой микросервис для распознавания эмоционально-психологических состояний, способный обрабатывать аудио- и видеоданные, интегрированный в архитектуру Telegram бота-психолога. 

Способы применения технологии:
1. Инструмент будет обёрнут в Docker-контейнер, что обеспечит простоту развёртывания на различных серверах или облачных платформах, а также упростит управление зависимостями и обновлениями.
2. Взаимодействие между ботом и инструментом будет организовано через очередь сообщений. Бот будет отправлять задачи на анализ в очередь, а инструмент обрабатывать их и возвращать результаты через ту же очередь. Такой подход обеспечит высокую надёжность, масштабируемость и возможность асинхронной обработки запросов.
3. Поддержка обработки как аудиосообщений, так и видео обеспечит более точное и универсальное распознавание эмоциональных состояний.
4. Бот будет отправлять пользовательский контент (видео или аудио) на анализ, и будет получать результат в виде распознанных эмоциональных состояний или уровня стресса/тревожности, обрабатывать их и предоставлять соответствующую обратную связь пользователю.

Для проверки точности и практической применимости технологии стоит провести следующие эксперименты:
1. Тестирование на реальных данных: стоит собрать аудио- и видеозаписи нескольких групп участников. Результаты работы инструмента нужно сравнить с независимыми экспертными оценками эмоциональных состояний участников, чтобы измерить точность и чувствительность системы.
2. Оценка производительности: стоит провести нагрузочные тесты для проверки скорости обработки запросов в условиях реальной эксплуатации Telegram бота. Эти тесты позволят оценить, насколько эффективно система справляется с одновременной обработкой большого количества данных и выдерживает нагрузку при увеличении числа пользователей.

## Список использованных источников
1. ScienceDirect - Mel Frequency Cepstral Coefficient //  [URL](https://www.sciencedirect.com/topics/computer-science/mel-frequency-cepstral-coefficient)
2. Speech Emotion Recognition - Repository // [URL](https://github.com/x4nth055/emotion-recognition-using-speech)
3. VERA - Repository // [URL](https://github.com/GeorgiosIoannouCoder/vera)
4. Detection-of-Anxiety-and-Depression - Repository // [URL](https://github.com/hariharitha21/Detection-of-Anxiety-and-Depression)
5. Stress Detector - Repository // [URL](https://github.com/maxmousee/Py-Stress-Detector)
6. Fast Facial Emotion Monitoring (FFEM) Package - Repository // [URL](https://github.com/WiseGeorge/Fast-Facial-Emotion-Monitoring-FFEM-Package)
7. Video-Audio-Face-Emotion-Recognition - Repository // [URL](https://github.com/rishiswethan/Video-Audio-Face-Emotion-Recognition)
8. Non-Invasive-Stress-Detection-from-Video - Repository // [URL](https://github.com/mpsych/stress)
9. ADOSAUR - Repository // [URL](https://github.com/gnatpat/ADOSAUR)
